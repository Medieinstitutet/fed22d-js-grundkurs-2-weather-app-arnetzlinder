(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerpolicy&&(c.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?c.credentials="include":t.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(t){if(t.ep)return;t.ep=!0;const c=n(t);fetch(t.href,c)}})();const k="/fed22d-js-grundkurs-2-weather-app-arnetzlinder/assets/frost.1cc9ff80.jpg",A=document.querySelector(".infoButton"),H=document.querySelector(".infoBox"),b=document.querySelector(".electricityPrice"),S=document.querySelector(".now"),E=document.querySelector(".oneHour"),P=document.querySelector(".cheapHour"),L=document.querySelector(".cheapPrice");let v,w,i=[];const f=new Date;let l,y,s,u,d,m=0,g=!1;function q(){g?(g=!1,H.style.visibility="hidden"):(g=!0,H.style.visibility="visible")}A.addEventListener("click",q);function C(){b.innerHTML="",b.innerHTML+=`
  <h2> Elpris just nu: ${i[2][f.getHours()]} \xF6re/kWh</h2>
  `;for(let e=0;e<24;e++)(Number(i[2][e])<y||typeof y>"u")&&(y=Number(i[2][e]),l=e),m+=Number(i[2][e]);if(m/=24,Number(i[2][f.getHours()])>m){const e=document.querySelector(".electricityPriceBackground");e.style.backgroundImage=`url(${k})`,e.style.opacity="0.7",document.body.classList.add("highPrice")}}function M(){const e=s.toFixed(2),o=u.toFixed(2),n=d.toFixed(2),r=l.toString();let t=r;l<10&&(t="0".concat(r)),S.innerHTML="",S.innerHTML+=`
  ${e} SEK
  `,E.innerHTML="",E.innerHTML+=`
  ${o} SEK
  `,P.innerHTML="",P.innerHTML+=`
  ${t}:00 \xE4r priset
  `,L.innerHTML="",L.innerHTML+=`
  ${n} SEK
  `}function a(e){fetch("https://entsoe-cache.plsh.se/".concat(e,".json"),{cache:"no-cache"}).then(o=>o.json()).then(o=>{console.table(o),i=o,console.log(i[0][9]),C(),window.scrollTo({top:700,behavior:"smooth"})}).catch(o=>{console.error("Error fetching electricity prices:",o)})}function p(e){const o=Number(i[2][f.getHours()]),n=Number(i[2][f.getHours()+1]),r=Number(i[2][l]);console.log("activityCost: ".concat(o.toString())),e==="shower"&&(s=o*.044,u=n*.044,d=r*.044),e==="dryer"&&(s=o*.05,u=n*.05,d=r*.05),e==="chargeCar"&&(s=o*.1,u=n*.1,d=r*.1),M(),console.log(s),console.log(e)}function T(e){switch(e.currentTarget.value){case"electricityArea1":a("SE1");break;case"electricityArea2":a("SE2");break;case"electricityArea3":a("SE3");break;case"electricityArea4":a("SE4");break}console.log(T)}function N(e){switch("Notification"in window&&Notification.requestPermission().then(n=>{if(n==="granted"){const r={body:"Billigaste timmen att g\xF6ra detta \xE4r klockan ".concat(l.toString(),":00"),img:"../../public/photos/fire.jpg"},t=new Notification("Notification",r);console.log(t)}}).catch(()=>{}),e.currentTarget.value){case"shower":p("shower");break;case"dryer":p("dryer");break;case"chargeCar":p("chargeCar");break}console.log(N)}function x(){v=document.querySelector(".chooseElectricityArea"),v.addEventListener("change",T),w=document.querySelector(".chooseSpendingMethod"),w.addEventListener("change",N)}x();
