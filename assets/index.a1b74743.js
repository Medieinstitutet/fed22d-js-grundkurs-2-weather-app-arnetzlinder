(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerpolicy&&(c.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?c.credentials="include":t.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(t){if(t.ep)return;t.ep=!0;const c=n(t);fetch(t.href,c)}})();var k=document.querySelector(".infoButton"),p=document.querySelector(".infoBox"),H=document.querySelector(".electricityPrice"),b=document.querySelector(".now"),S=document.querySelector(".oneHour"),P=document.querySelector(".cheapHour"),E=document.querySelector(".cheapPrice"),L,T,i=[],f=new Date,s,y,a,l,d,v=0,m=!1;function A(){m?(m=!1,p.style.visibility="hidden"):(m=!0,p.style.visibility="visible")}k.addEventListener("click",A);function q(){H.innerHTML="",H.innerHTML+=`
  <h2> Elpris just nu: `.concat(i[2][f.getHours()],` \xF6re/kWh</h2>
  `);for(var r=0;r<24;r++)(Number(i[2][r])<y||typeof y>"u")&&(y=Number(i[2][r]),s=r),v+=Number(i[2][r]);if(v/=24,Number(i[2][f.getHours()])>v){var e=document.querySelector(".electricityPriceBackground");e.style.backgroundImage="url(../../public/photos/frost.jpg)",e.style.opacity="0.7",document.body.classList.add("highPrice")}}function C(){var r=a.toFixed(2),e=l.toFixed(2),n=d.toFixed(2),o=s.toString(),t=o;s<10&&(t="0".concat(o)),b.innerHTML="",b.innerHTML+=`
  `.concat(r,` SEK
  `),S.innerHTML="",S.innerHTML+=`
  `.concat(e,` SEK
  `),P.innerHTML="",P.innerHTML+=`
  `.concat(t,`:00 \xE4r priset
  `),E.innerHTML="",E.innerHTML+=`
  `.concat(n,` SEK
  `)}function u(r){fetch("https://entsoe-cache.plsh.se/".concat(r,".json"),{cache:"no-cache"}).then(function(e){return e.json()}).then(function(e){console.table(e),i=e,console.log(i[0][9]),q(),window.scrollTo({top:700,behavior:"smooth"})}).catch(function(e){console.error("Error fetching electricity prices:",e)})}function g(r){var e=Number(i[2][f.getHours()]),n=Number(i[2][f.getHours()+1]),o=Number(i[2][s]);console.log("activityCost: ".concat(e.toString())),r==="shower"&&(a=e*.044,l=n*.044,d=o*.044),r==="dryer"&&(a=e*.05,l=n*.05,d=o*.05),r==="chargeCar"&&(a=e*.1,l=n*.1,d=o*.1),C(),console.log(a),console.log(r)}function w(r){var e=r.currentTarget;switch(e.value){case"electricityArea1":u("SE1");break;case"electricityArea2":u("SE2");break;case"electricityArea3":u("SE3");break;case"electricityArea4":u("SE4");break}console.log(w)}function N(r){"Notification"in window&&Notification.requestPermission().then(function(n){if(n==="granted"){var o={body:"Billigaste timmen att g\xF6ra detta \xE4r klockan ".concat(s.toString(),":00"),img:"../../public/photos/fire.jpg"},t=new Notification("Notification",o);console.log(t)}}).catch(function(){});var e=r.currentTarget;switch(e.value){case"shower":g("shower");break;case"dryer":g("dryer");break;case"chargeCar":g("chargeCar");break}console.log(N)}function M(){L=document.querySelector(".chooseElectricityArea"),L.addEventListener("change",w),T=document.querySelector(".chooseSpendingMethod"),T.addEventListener("change",N)}M();
